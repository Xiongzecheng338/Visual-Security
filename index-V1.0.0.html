<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视觉欺骗艺术馆 - 探索不可能的世界</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'void': '#0a0a12',
                        'abyss': '#12121f',
                        'neon-cyan': '#00f5d4',
                        'neon-pink': '#ff006e',
                        'neon-purple': '#8338ec',
                        'neon-yellow': '#ffbe0b',
                        'glass': 'rgba(255, 255, 255, 0.05)',
                        'glass-border': 'rgba(255, 255, 255, 0.1)'
                    },
                    fontFamily: {
                        'display': ['Orbitron', 'sans-serif'],
                        'body': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { box-sizing: border-box; }
        body { 
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }
        .font-display { font-family: 'Orbitron', sans-serif; }
        
        /* 背景动画 */
        .bg-animated {
            background: linear-gradient(135deg, #0a0a12 0%, #1a1a2e 50%, #16213e 100%);
            position: relative;
        }
        .bg-animated::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 20% 20%, rgba(131, 56, 236, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(0, 245, 212, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(255, 0, 110, 0.08) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* 玻璃态效果 */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        /* 3D容器 */
        .perspective-container {
            perspective: 1500px;
            perspective-origin: 50% 50%;
        }
        
        /* 彭罗斯三角 */
        .penrose-triangle {
            position: relative;
            width: 280px;
            height: 280px;
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite;
        }
        .penrose-triangle .side {
            position: absolute;
            width: 60px;
            height: 180px;
            transform-origin: center;
        }
        .penrose-triangle .side::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, var(--color1) 0%, var(--color2) 100%);
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }
        .penrose-triangle .side:nth-child(1) {
            --color1: #00f5d4;
            --color2: #00b4a0;
            top: 20px;
            left: 30px;
            transform: rotate(-30deg) skewY(30deg);
        }
        .penrose-triangle .side:nth-child(2) {
            --color1: #ff006e;
            --color2: #c0005a;
            top: 20px;
            right: 30px;
            transform: rotate(30deg) skewY(-30deg);
        }
        .penrose-triangle .side:nth-child(3) {
            --color1: #8338ec;
            --color2: #6020c0;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) rotate(90deg) skewY(0deg);
        }
        
        /* 内克尔方块 */
        .necker-cube {
            position: relative;
            width: 200px;
            height: 200px;
            transform-style: preserve-3d;
            animation: neckerFlip 4s ease-in-out infinite;
        }
        .necker-cube .face {
            position: absolute;
            width: 120px;
            height: 120px;
            border: 3px solid;
            background: transparent;
        }
        .necker-cube .front {
            border-color: #00f5d4;
            top: 40px;
            left: 20px;
        }
        .necker-cube .back {
            border-color: #ff006e;
            top: 0;
            left: 60px;
        }
        .necker-cube .connectors span {
            position: absolute;
            width: 3px;
            height: 60px;
            background: linear-gradient(to bottom, #8338ec, #00f5d4);
            transform-origin: top;
        }
        .necker-cube .connectors span:nth-child(1) { top: 0; left: 60px; transform: rotate(-33deg); }
        .necker-cube .connectors span:nth-child(2) { top: 0; left: 177px; transform: rotate(33deg); }
        .necker-cube .connectors span:nth-child(3) { top: 117px; left: 60px; transform: rotate(-33deg); }
        .necker-cube .connectors span:nth-child(4) { top: 117px; left: 177px; transform: rotate(33deg); }
        
        @keyframes neckerFlip {
            0%, 45% { transform: rotateX(0deg) rotateY(0deg); }
            50%, 95% { transform: rotateX(180deg) rotateY(0deg); }
            100% { transform: rotateX(360deg) rotateY(0deg); }
        }
        
        /* 赫尔曼栅格 */
        .hermann-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 12px;
            padding: 20px;
            background: #000;
        }
        .hermann-grid .cell {
            width: 40px;
            height: 40px;
            background: #fff;
            transition: all 0.3s;
        }
        .hermann-grid:hover .cell {
            background: #f0f0f0;
        }
        .hermann-grid .cell:hover {
            background: #00f5d4 !important;
            transform: scale(1.1);
        }
        
        /* 穆勒-莱耶错觉 */
        .muller-lyer {
            display: flex;
            flex-direction: column;
            gap: 60px;
            padding: 40px;
        }
        .muller-lyer .line-group {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .muller-lyer .line {
            width: 200px;
            height: 4px;
            background: #fff;
            position: relative;
        }
        .muller-lyer .arrow {
            width: 0;
            height: 0;
            border: 15px solid transparent;
        }
        .muller-lyer .arrow.outward-left {
            border-right-color: #00f5d4;
            margin-right: -15px;
        }
        .muller-lyer .arrow.outward-right {
            border-left-color: #00f5d4;
            margin-left: -15px;
            transform: rotate(180deg);
        }
        .muller-lyer .arrow.inward-left {
            border-right-color: #ff006e;
            margin-right: -15px;
            transform: rotate(180deg);
        }
        .muller-lyer .arrow.inward-right {
            border-left-color: #ff006e;
            margin-left: -15px;
        }
        
        /* 旋转蛇错觉 */
        .rotating-snakes {
            position: relative;
            width: 300px;
            height: 300px;
        }
        .snake-ring {
            position: absolute;
            border-radius: 50%;
            animation: snakeRotate 20s linear infinite;
        }
        .snake-ring:nth-child(1) {
            width: 280px;
            height: 280px;
            top: 10px;
            left: 10px;
            background: conic-gradient(
                from 0deg,
                #000 0deg 30deg,
                #8338ec 30deg 60deg,
                #fff 60deg 90deg,
                #ff006e 90deg 120deg,
                #000 120deg 150deg,
                #00f5d4 150deg 180deg,
                #fff 180deg 210deg,
                #ffbe0b 210deg 240deg,
                #000 240deg 270deg,
                #8338ec 270deg 300deg,
                #fff 300deg 330deg,
                #ff006e 330deg 360deg
            );
            animation-duration: 30s;
        }
        .snake-ring:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 50px;
            left: 50px;
            background: conic-gradient(
                from 45deg,
                #fff 0deg 30deg,
                #00f5d4 30deg 60deg,
                #000 60deg 90deg,
                #ffbe0b 90deg 120deg,
                #fff 120deg 150deg,
                #8338ec 150deg 180deg,
                #000 180deg 210deg,
                #ff006e 210deg 240deg,
                #fff 240deg 270deg,
                #00f5d4 270deg 300deg,
                #000 300deg 330deg,
                #ffbe0b 330deg 360deg
            );
            animation-duration: 25s;
            animation-direction: reverse;
        }
        .snake-ring:nth-child(3) {
            width: 120px;
            height: 120px;
            top: 90px;
            left: 90px;
            background: conic-gradient(
                from 90deg,
                #000 0deg 30deg,
                #ff006e 30deg 60deg,
                #fff 60deg 90deg,
                #00f5d4 90deg 120deg,
                #000 120deg 150deg,
                #ffbe0b 150deg 180deg,
                #fff 180deg 210deg,
                #8338ec 210deg 240deg,
                #000 240deg 270deg,
                #ff006e 270deg 300deg,
                #fff 300deg 330deg,
                #00f5d4 330deg 360deg
            );
            animation-duration: 20s;
        }
        .snake-ring:nth-child(4) {
            width: 50px;
            height: 50px;
            top: 125px;
            left: 125px;
            background: #0a0a12;
        }
        
        @keyframes snakeRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* 卡尼莎三角 */
        .kanizsa-triangle {
            position: relative;
            width: 280px;
            height: 280px;
        }
        .kanizsa-triangle .pacman {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #fff;
        }
        .kanizsa-triangle .pacman::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50px;
            height: 50px;
            background: #0a0a12;
            transform-origin: 0 0;
        }
        .kanizsa-triangle .pacman:nth-child(1) {
            top: 0;
            left: 90px;
        }
        .kanizsa-triangle .pacman:nth-child(1)::after {
            transform: rotate(-60deg);
        }
        .kanizsa-triangle .pacman:nth-child(2) {
            bottom: 0;
            left: 0;
        }
        .kanizsa-triangle .pacman:nth-child(2)::after {
            transform: rotate(60deg);
        }
        .kanizsa-triangle .pacman:nth-child(3) {
            bottom: 0;
            right: 0;
        }
        .kanizsa-triangle .pacman:nth-child(3)::after {
            transform: rotate(180deg);
        }
        .kanizsa-triangle .center-triangle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-left: 70px solid transparent;
            border-right: 70px solid transparent;
            border-bottom: 120px solid rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -30%);
        }
        
        /* 艾宾浩斯错觉 */
        .ebbinghaus {
            position: relative;
            width: 300px;
            height: 200px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        .ebbinghaus .group {
            position: relative;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            width: 140px;
            height: 140px;
        }
        .ebbinghaus .center-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #00f5d4;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        .ebbinghaus .surround {
            position: absolute;
            border-radius: 50%;
            background: #ff006e;
        }
        .ebbinghaus .group.left .surround {
            width: 20px;
            height: 20px;
        }
        .ebbinghaus .group.left .surround:nth-child(1) { top: 5px; left: 50%; transform: translateX(-50%); }
        .ebbinghaus .group.left .surround:nth-child(2) { top: 20px; right: 10px; }
        .ebbinghaus .group.left .surround:nth-child(3) { top: 50%; right: 0; transform: translateY(-50%); }
        .ebbinghaus .group.left .surround:nth-child(4) { bottom: 20px; right: 10px; }
        .ebbinghaus .group.left .surround:nth-child(5) { bottom: 5px; left: 50%; transform: translateX(-50%); }
        .ebbinghaus .group.left .surround:nth-child(6) { bottom: 20px; left: 10px; }
        .ebbinghaus .group.left .surround:nth-child(7) { top: 50%; left: 0; transform: translateY(-50%); }
        .ebbinghaus .group.left .surround:nth-child(8) { top: 20px; left: 10px; }
        
        .ebbinghaus .group.right .surround {
            width: 45px;
            height: 45px;
        }
        .ebbinghaus .group.right .surround:nth-child(1) { top: 0; left: 50%; transform: translateX(-50%); }
        .ebbinghaus .group.right .surround:nth-child(2) { top: 50%; right: 0; transform: translateY(-50%); }
        .ebbinghaus .group.right .surround:nth-child(3) { bottom: 0; left: 50%; transform: translateX(-50%); }
        .ebbinghaus .group.right .surround:nth-child(4) { top: 50%; left: 0; transform: translateY(-50%); }
        
        /* 咖啡墙错觉 */
        .cafe-wall {
            display: flex;
            flex-direction: column;
            gap: 4px;
            padding: 20px;
            background: #111;
        }
        .cafe-wall .row {
            display: flex;
            gap: 4px;
        }
        .cafe-wall .row:nth-child(even) {
            margin-left: 27px;
        }
        .cafe-wall .tile {
            width: 50px;
            height: 30px;
            transition: all 0.3s;
        }
        .cafe-wall .tile.black {
            background: #1a1a2e;
        }
        .cafe-wall .tile.white {
            background: #e0e0e0;
        }
        .cafe-wall .tile:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        
        /* 不可能阶梯 */
        .penrose-stairs {
            position: relative;
            width: 280px;
            height: 280px;
            transform-style: preserve-3d;
        }
        .penrose-stairs .step {
            position: absolute;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #00f5d4 0%, #00b4a0 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        .penrose-stairs .step::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 0;
            width: 100%;
            height: 15px;
            background: linear-gradient(to bottom, #008070, #006050);
        }
        .penrose-stairs .step:nth-child(1) { top: 20px; left: 20px; }
        .penrose-stairs .step:nth-child(2) { top: 20px; left: 90px; }
        .penrose-stairs .step:nth-child(3) { top: 20px; left: 160px; }
        .penrose-stairs .step:nth-child(4) { top: 90px; left: 160px; }
        .penrose-stairs .step:nth-child(5) { top: 160px; left: 160px; }
        .penrose-stairs .step:nth-child(6) { top: 160px; left: 90px; }
        .penrose-stairs .step:nth-child(7) { top: 160px; left: 20px; }
        .penrose-stairs .step:nth-child(8) { top: 90px; left: 20px; }
        
        /* 莫比乌斯环 */
        .mobius-strip {
            position: relative;
            width: 300px;
            height: 200px;
            transform-style: preserve-3d;
            animation: mobiusRotate 10s linear infinite;
        }
        .mobius-strip .segment {
            position: absolute;
            width: 30px;
            height: 80px;
            background: linear-gradient(to bottom, #00f5d4, #8338ec, #ff006e);
            border-radius: 5px;
            transform-origin: center center;
        }
        
        @keyframes mobiusRotate {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }
        
        /* 萨金特错觉 */
        .sargent-illusion {
            position: relative;
            width: 300px;
            height: 200px;
        }
        .sargent-illusion .bar {
            position: absolute;
            height: 40px;
            background: linear-gradient(to right, #1a1a2e 0%, #3a3a4e 50%, #1a1a2e 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .sargent-illusion .bar.horizontal {
            width: 200px;
            top: 80px;
            left: 50px;
        }
        .sargent-illusion .bar.vertical {
            width: 40px;
            height: 160px;
            top: 20px;
            left: 130px;
        }
        .sargent-illusion .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 0%, 
                rgba(0, 245, 212, 0.1) 25%, 
                transparent 50%, 
                rgba(255, 0, 110, 0.1) 75%, 
                transparent 100%);
            pointer-events: none;
        }
        
        /* 彭罗斯三角 SVG */
        .penrose-svg {
            width: 280px;
            height: 280px;
        }
        
        /* 按钮样式 */
        .illusion-btn {
            position: relative;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        .illusion-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        .illusion-btn:hover::before {
            left: 100%;
        }
        .illusion-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(0, 245, 212, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 245, 212, 0.2);
        }
        .illusion-btn.active {
            background: linear-gradient(135deg, rgba(0, 245, 212, 0.2), rgba(131, 56, 236, 0.2));
            border-color: #00f5d4;
        }
        
        /* 浮动动画 */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            50% { transform: translateY(-20px) rotateY(180deg); }
        }
        
        /* 脉冲动画 */
        @keyframes pulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
        }
        
        /* 粒子效果 */
        .particle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #00f5d4 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
            animation: particleFade 1s ease-out forwards;
        }
        
        @keyframes particleFade {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }
        
        /* 信息卡片 */
        .info-card {
            background: rgba(10, 10, 18, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            margin-top: 24px;
        }
        
        /* 标签 */
        .tag {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(0, 245, 212, 0.1);
            border: 1px solid rgba(0, 245, 212, 0.3);
            border-radius: 20px;
            font-size: 12px;
            color: #00f5d4;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        /* 滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0a12;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #00f5d4, #8338ec);
            border-radius: 4px;
        }
        
        /* 响应式 */
        @media (max-width: 768px) {
            .illusion-container {
                transform: scale(0.7);
            }
        }
        
        /* 隐藏类 */
        .hidden { display: none !important; }
        
        /* 3D立方体 */
        .cube-3d {
            width: 150px;
            height: 150px;
            transform-style: preserve-3d;
            animation: cubeRotate 8s linear infinite;
        }
        .cube-3d .face {
            position: absolute;
            width: 150px;
            height: 150px;
            border: 2px solid;
            background: rgba(255, 255, 255, 0.03);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            backdrop-filter: blur(5px);
        }
        .cube-3d .face.front { 
            border-color: #00f5d4; 
            color: #00f5d4;
            transform: translateZ(75px); 
        }
        .cube-3d .face.back { 
            border-color: #ff006e; 
            color: #ff006e;
            transform: rotateY(180deg) translateZ(75px); 
        }
        .cube-3d .face.right { 
            border-color: #8338ec; 
            color: #8338ec;
            transform: rotateY(90deg) translateZ(75px); 
        }
        .cube-3d .face.left { 
            border-color: #ffbe0b; 
            color: #ffbe0b;
            transform: rotateY(-90deg) translateZ(75px); 
        }
        .cube-3d .face.top { 
            border-color: #00f5d4; 
            color: #00f5d4;
            transform: rotateX(90deg) translateZ(75px); 
        }
        .cube-3d .face.bottom { 
            border-color: #ff006e; 
            color: #ff006e;
            transform: rotateX(-90deg) translateZ(75px); 
        }
        
        @keyframes cubeRotate {
            from { transform: rotateX(0deg) rotateY(0deg); }
            to { transform: rotateX(360deg) rotateY(360deg); }
        }
        
        /* 德尔伯夫错觉 */
        .delboeuf {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 300px;
            height: 200px;
        }
        .delboeuf .ring {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .delboeuf .ring::before {
            content: '';
            position: absolute;
            border-radius: 50%;
            border: 3px solid #ff006e;
        }
        .delboeuf .ring.small::before {
            width: 80px;
            height: 80px;
        }
        .delboeuf .ring.large::before {
            width: 140px;
            height: 140px;
        }
        .delboeuf .dot {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #00f5d4;
        }
        
        /* 佐尔拉错觉 */
        .zollner {
            position: relative;
            width: 280px;
            height: 280px;
            background: #0a0a12;
        }
        .zollner .line-group {
            position: absolute;
            display: flex;
            gap: 20px;
        }
        .zollner .main-line {
            width: 4px;
            height: 200px;
            background: #fff;
            position: relative;
        }
        .zollner .tick {
            position: absolute;
            width: 30px;
            height: 3px;
            background: #00f5d4;
            left: -13px;
        }
        .zollner .line-group:nth-child(1) { top: 40px; left: 20px; transform: rotate(-15deg); }
        .zollner .line-group:nth-child(2) { top: 40px; left: 70px; transform: rotate(15deg); }
        .zollner .line-group:nth-child(3) { top: 40px; left: 120px; transform: rotate(-15deg); }
        .zollner .line-group:nth-child(4) { top: 40px; left: 170px; transform: rotate(15deg); }
        .zollner .line-group:nth-child(5) { top: 40px; left: 220px; transform: rotate(-15deg); }
        
        /* 波根多夫错觉 */
        .poggendorff {
            position: relative;
            width: 280px;
            height: 200px;
        }
        .poggendorff .oblique {
            position: absolute;
            width: 4px;
            height: 120px;
            background: #00f5d4;
            transform-origin: bottom;
        }
        .poggendorff .oblique.left {
            top: 20px;
            left: 60px;
            transform: rotate(-30deg);
        }
        .poggendorff .oblique.right {
            top: 20px;
            right: 60px;
            transform: rotate(30deg);
        }
        .poggendorff .block {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: #1a1a2e;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .poggendorff .continuation {
            position: absolute;
            width: 4px;
            height: 60px;
            background: #ff006e;
            opacity: 0.5;
        }
        .poggendorff .continuation.c1 {
            bottom: 20px;
            left: 100px;
            transform: rotate(-30deg);
            transform-origin: top;
        }
        .poggendorff .continuation.c2 {
            bottom: 20px;
            right: 100px;
            transform: rotate(30deg);
            transform-origin: top;
        }
    </style>
</head>
<body class="bg-animated min-h-screen text-white">
    <!-- 导航栏 -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-card">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-neon-cyan to-neon-purple flex items-center justify-center">
                    <i class="fas fa-eye text-white"></i>
                </div>
                <span class="font-display font-bold text-xl">Visual Illusions</span>
            </div>
            <div class="flex items-center gap-4">
                <span class="text-sm text-gray-400">已探索: <span id="explored-count" class="text-neon-cyan font-bold">0</span> / <span id="total-count">15</span></span>
                <button id="random-btn" class="illusion-btn text-sm">
                    <i class="fas fa-random mr-2"></i>随机切换
                </button>
            </div>
        </div>
    </nav>

    <!-- 主内容 -->
    <main class="pt-24 pb-12 px-4 relative z-10">
        <div class="max-w-7xl mx-auto">
            <!-- 标题区域 -->
            <header class="text-center mb-12">
                <h1 class="font-display text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-neon-cyan via-neon-purple to-neon-pink bg-clip-text text-transparent">
                    视觉欺骗艺术馆
                </h1>
                <p class="text-gray-400 text-lg max-w-2xl mx-auto">
                    探索不可能图形与视错觉的奇妙世界，点击下方按钮切换不同的视觉欺骗效果
                </p>
            </header>

            <!-- 分类导航 -->
            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button class="category-btn illusion-btn active" data-category="all">
                    <i class="fas fa-th-large mr-2"></i>全部
                </button>
                <button class="category-btn illusion-btn" data-category="impossible">
                    <i class="fas fa-cube mr-2"></i>不可能图形
                </button>
                <button class="category-btn illusion-btn" data-category="geometric">
                    <i class="fas fa-shapes mr-2"></i>几何错觉
                </button>
                <button class="category-btn illusion-btn" data-category="motion">
                    <i class="fas fa-sync-alt mr-2"></i>运动错觉
                </button>
                <button class="category-btn illusion-btn" data-category="cognitive">
                    <i class="fas fa-brain mr-2"></i>认知错觉
                </button>
            </div>

            <!-- 主展示区 -->
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- 图形展示区 -->
                <div class="glass-card rounded-3xl p-8 flex flex-col items-center justify-center min-h-[500px] relative overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-br from-neon-cyan/5 to-neon-purple/5"></div>
                    
                    <!-- 点击提示 -->
                    <div id="click-hint" class="absolute top-4 right-4 text-xs text-gray-500 flex items-center gap-2">
                        <i class="fas fa-hand-pointer"></i>
                        <span>点击图形查看变化</span>
                    </div>
                    
                    <!-- 图形容器 -->
                    <div id="illusion-container" class="perspective-container relative z-10 flex items-center justify-center">
                        <!-- 动态内容将在这里渲染 -->
                    </div>
                    
                    <!-- 图形名称 -->
                    <h2 id="illusion-title" class="font-display text-2xl font-bold mt-6 text-center relative z-10">
                        彭罗斯三角
                    </h2>
                </div>

                <!-- 信息面板 -->
                <div class="space-y-6">
                    <!-- 原理说明 -->
                    <div class="info-card">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-neon-cyan/20 to-neon-purple/20 flex items-center justify-center">
                                <i class="fas fa-lightbulb text-neon-cyan"></i>
                            </div>
                            <h3 class="font-display font-bold text-lg">原理解析</h3>
                        </div>
                        <p id="principle-text" class="text-gray-300 leading-relaxed">
                            彭罗斯三角是由数学家罗杰·彭罗斯于1958年提出的不可能图形。它看起来像一个立体的三角形，但实际上在三维空间中无法构造。这种错觉源于大脑对三维物体的自动解释——我们假设每条边都是连续的，但实际上图形的不同部分使用了不同的深度线索。
                        </p>
                    </div>

                    <!-- 详细信息 -->
                    <div class="info-card">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-neon-pink/20 to-neon-yellow/20 flex items-center justify-center">
                                <i class="fas fa-info-circle text-neon-pink"></i>
                            </div>
                            <h3 class="font-display font-bold text-lg">详细信息</h3>
                        </div>
                        <div class="space-y-3">
                            <div class="flex items-start gap-3">
                                <span class="text-gray-500 w-20 shrink-0">发现者</span>
                                <span id="discoverer-text" class="text-gray-300">罗杰·彭罗斯 (1958)</span>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-gray-500 w-20 shrink-0">类型</span>
                                <div id="type-tags">
                                    <span class="tag">不可能图形</span>
                                    <span class="tag">几何错觉</span>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-gray-500 w-20 shrink-0">趣味度</span>
                                <div class="flex gap-1">
                                    <i class="fas fa-star text-neon-yellow"></i>
                                    <i class="fas fa-star text-neon-yellow"></i>
                                    <i class="fas fa-star text-neon-yellow"></i>
                                    <i class="fas fa-star text-neon-yellow"></i>
                                    <i class="fas fa-star text-gray-600"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 互动提示 -->
                    <div class="info-card bg-gradient-to-r from-neon-cyan/10 to-neon-purple/10">
                        <div class="flex items-center gap-3 mb-3">
                            <i class="fas fa-magic text-neon-cyan"></i>
                            <h3 class="font-display font-bold">互动提示</h3>
                        </div>
                        <p id="interaction-hint" class="text-gray-300 text-sm">
                            点击图形可以切换不同的视觉效果和动画模式，观察图形如何欺骗你的大脑！
                        </p>
                    </div>

                    <!-- 切换按钮组 -->
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-3" id="illusion-buttons">
                        <!-- 按钮将通过JS动态生成 -->
                    </div>
                </div>
            </div>

            <!-- 底部展示区 -->
            <section class="mt-16">
                <h2 class="font-display text-2xl font-bold text-center mb-8">
                    <i class="fas fa-layer-group mr-3 text-neon-cyan"></i>
                    更多视觉奇迹
                </h2>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4" id="mini-gallery">
                    <!-- 缩略图将通过JS动态生成 -->
                </div>
            </section>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="glass-card mt-12 py-8 relative z-10">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <p class="text-gray-400 text-sm">
                <i class="fas fa-eye mr-2"></i>
                视觉欺骗艺术馆 - 探索人类感知的边界
            </p>
            <p class="text-gray-500 text-xs mt-2">
                点击任意图形开始你的视觉探索之旅
            </p>
        </div>
    </footer>

    <script>
        // 视觉欺骗数据
        const illusions = [
            {
                id: 'penrose-triangle',
                name: '彭罗斯三角',
                category: ['impossible', 'geometric'],
                discoverer: '罗杰·彭罗斯 (1958)',
                tags: ['不可能图形', '几何错觉'],
                rating: 4,
                principle: '彭罗斯三角是最著名的不可能图形之一。它看起来像一个立体的三角形，但实际上在三维空间中无法构造。这种错觉源于大脑对三维物体的自动解释——我们假设每条边都是连续的，但实际上图形的不同部分使用了不同的深度线索。当我们试图追踪三角形的边缘时，会发现每条边似乎都在"向上"或"向前"，形成了一个不可能的循环。',
                hint: '点击图形可以切换颜色方案和旋转方向，尝试追踪边缘看看会发生什么！',
                render: renderPenroseTriangle
            },
            {
                id: 'necker-cube',
                name: '内克尔方块',
                category: ['impossible', 'cognitive'],
                discoverer: '路易斯·内克尔 (1832)',
                tags: ['不可能图形', '认知错觉', '双稳态'],
                rating: 5,
                principle: '内克尔方块是一个简单的线框立方体，但它会产生两种不同的三维解释。大脑无法确定哪个面在前面，哪个面在后面，因此会在两种解释之间自发切换。这种现象被称为"双稳态感知"，展示了大脑如何主动解释模糊的视觉信息。盯着看一会儿，你会发现方块会突然"翻转"方向。',
                hint: '盯着方块中心，等待它自发翻转。点击可以强制切换视角！',
                render: renderNeckerCube
            },
            {
                id: 'hermann-grid',
                name: '赫尔曼栅格',
                category: ['geometric'],
                discoverer: '卢迪曼·赫尔曼 (1870)',
                tags: ['几何错觉', '生理错觉'],
                rating: 4,
                principle: '在赫尔曼栅格中，你会看到白色交叉点处出现灰色斑点，但当你直视某个交叉点时，斑点就会消失。这是由于视网膜神经节细胞的侧抑制效应造成的——当周围区域更亮时，神经细胞会抑制相邻细胞的信号，导致我们看到不存在的灰色。这揭示了人类视觉系统的基本工作原理。',
                hint: '移动鼠标悬停在格子上，观察灰色斑点的变化。点击可以改变网格大小！',
                render: renderHermannGrid
            },
            {
                id: 'muller-lyer',
                name: '穆勒-莱耶错觉',
                category: ['geometric'],
                discoverer: '弗朗茨·卡尔·穆勒-莱耶 (1889)',
                tags: ['几何错觉', '长度错觉'],
                rating: 3,
                principle: '两条完全等长的线段，因为两端箭头方向不同，看起来长度却不同。向外的箭头使线条看起来更长，向内的箭头使线条看起来更短。这种错觉可能与我们对三维空间的解释有关——向外箭头类似房屋外角，向内箭头类似房屋内角，大脑会自动"补偿"深度距离。',
                hint: '点击可以显示/隐藏参考线，验证两条线确实等长！',
                render: renderMullerLyer
            },
            {
                id: 'rotating-snakes',
                name: '旋转蛇错觉',
                category: ['motion'],
                discoverer: '北冈明佳 (2003)',
                tags: ['运动错觉', '动态'],
                rating: 5,
                principle: '旋转蛇是一种令人惊叹的运动错觉——静止的图像看起来在旋转！这种效果源于眼睛的微小运动（扫视）和不同亮度区域的特殊排列。当视网膜的不同部分接收到不同的亮度信息时，视觉处理的时间差异被解释为运动。颜色和亮度的对比度越高，旋转效果越明显。',
                hint: '盯着中心看，旋转会减慢。移动眼睛，旋转会加速。点击可以改变颜色方案！',
                render: renderRotatingSnakes
            },
            {
                id: 'kanizsa-triangle',
                name: '卡尼莎三角',
                category: ['cognitive'],
                discoverer: '加埃塔诺·卡尼莎 (1955)',
                tags: ['认知错觉', '主观轮廓'],
                rating: 4,
                principle: '你会看到一个白色三角形叠加在三个圆形之上，但实际上这个三角形并不存在！这是"主观轮廓"或"错觉轮廓"的经典例子。大脑会自动"填补"缺失的信息，根据不完整的线索构建完整的形状。这种能力帮助我们在日常生活中识别被遮挡的物体。',
                hint: '点击可以显示/隐藏辅助线，观察主观轮廓是如何形成的！',
                render: renderKanizsaTriangle
            },
            {
                id: 'ebbinghaus',
                name: '艾宾浩斯错觉',
                category: ['geometric'],
                discoverer: '赫尔曼·艾宾浩斯 (1901)',
                tags: ['几何错觉', '大小错觉'],
                rating: 4,
                principle: '两个完全相同大小的圆形，因为周围参照物不同，看起来大小不同。被小圆包围的中心圆看起来更大，被大圆包围的中心圆看起来更小。这种大小对比效应展示了感知的相对性——我们不是孤立地感知物体，而是根据周围环境来判断。',
                hint: '点击可以移除周围的圆形，验证中心圆确实等大！',
                render: renderEbbinghaus
            },
            {
                id: 'cafe-wall',
                name: '咖啡墙错觉',
                category: ['geometric'],
                discoverer: '理查德·格雷戈里 (1973)',
                tags: ['几何错觉', '平行线'],
                rating: 4,
                principle: '所有水平线都是完全平行的，但看起来却是倾斜的！这种错觉在布里斯托尔的一家咖啡馆墙壁上被发现。灰色"砂浆"线在黑白瓷砖之间产生了模糊的边界，大脑无法确定边缘的确切位置，导致线条看起来扭曲。这种效果展示了视觉系统如何处理模糊信息。',
                hint: '点击可以高亮某一行，验证线条确实是平行的！',
                render: renderCafeWall
            },
            {
                id: 'penrose-stairs',
                name: '彭罗斯阶梯',
                category: ['impossible'],
                discoverer: '罗杰·彭罗斯 (1958)',
                tags: ['不可能图形', '循环'],
                rating: 5,
                principle: '彭罗斯阶梯是一种不可能图形，看起来像是一个不断上升（或下降）却永远循环的楼梯。每个台阶似乎都比前一个高，但走一圈后又回到了起点。这种错觉利用了局部与全局的矛盾——每个局部都是合理的，但整体却不可能。埃舍尔的名作《上升与下降》就是基于这个原理。',
                hint: '点击可以改变阶梯的旋转方向，尝试追踪一条路径！',
                render: renderPenroseStairs
            },
            {
                id: 'cube-3d',
                name: '不可能立方体',
                category: ['impossible'],
                discoverer: 'M.C.埃舍尔',
                tags: ['不可能图形', '3D'],
                rating: 5,
                principle: '不可能立方体看起来是一个正常的立方体，但仔细观察会发现它的边缘连接方式在三维空间中是不可能的。某些边似乎同时位于前面和后面，创造了一个自相矛盾的结构。这种图形挑战了我们对三维空间的直觉理解。',
                hint: '点击可以改变立方体的旋转速度和方向！',
                render: renderCube3D
            },
            {
                id: 'delboeuf',
                name: '德尔伯夫错觉',
                category: ['geometric'],
                discoverer: '约瑟夫·德尔伯夫 (1892)',
                tags: ['几何错觉', '大小错觉'],
                rating: 3,
                principle: '两个相同大小的圆，一个被小圆环包围，一个被大圆环包围，看起来大小不同。被小圆环包围的圆看起来更大。这与艾宾浩斯错觉相关，但强调了参照物形状的影响。这种错觉在日常生活中很常见，比如餐盘的大小会影响我们对食物份量的判断。',
                hint: '点击可以移除外圈，验证两个圆确实等大！',
                render: renderDelboeuf
            },
            {
                id: 'zollner',
                name: '佐尔纳错觉',
                category: ['geometric'],
                discoverer: '约翰·卡尔·弗里德里希·佐尔纳 (1860)',
                tags: ['几何错觉', '平行线'],
                rating: 4,
                principle: '佐尔纳错觉中，所有长竖线都是平行的，但短斜线使它们看起来不平行。不同方向的短斜线创造了深度线索，大脑将这些二维图案解释为三维结构，导致平行线看起来会聚或发散。这展示了大脑如何利用辅助信息来解释主要图形。',
                hint: '点击可以隐藏短斜线，验证长线确实平行！',
                render: renderZollner
            },
            {
                id: 'poggendorff',
                name: '波根多夫错觉',
                category: ['geometric'],
                discoverer: '约翰·波根多夫 (1860)',
                tags: ['几何错觉', '对齐'],
                rating: 4,
                principle: '一条斜线被一个矩形遮挡后，我们很难正确判断两段线的连接位置。大脑倾向于将线段向更"自然"的方向延伸，而不是真实的几何位置。这种错觉展示了视觉系统如何处理遮挡信息，以及我们如何"猜测"被遮挡物体的位置。',
                hint: '点击可以移除遮挡物，验证线段的真实连接！',
                render: renderPoggendorff
            },
            {
                id: 'mobius',
                name: '莫比乌斯环',
                category: ['impossible'],
                discoverer: '奥古斯特·费迪南德·莫比乌斯 (1858)',
                tags: ['不可能图形', '拓扑学'],
                rating: 5,
                principle: '莫比乌斯环是一个真实存在的数学奇迹——只有一个面和一条边的曲面。如果你沿着环的中心画线，最终会回到起点，但画在"另一面"上。这种性质挑战了我们对"里面"和"外面"的直觉理解，在数学、艺术和哲学中都有深远影响。',
                hint: '点击可以改变环的颜色和旋转方式！',
                render: renderMobius
            },
            {
                id: 'sargent',
                name: '萨金特错觉',
                category: ['geometric'],
                discoverer: '卡尔·萨金特',
                tags: ['几何错觉', '长度错觉'],
                rating: 3,
                principle: '萨金特错觉展示了背景如何影响我们对形状的感知。相同的形状在不同的背景条纹下看起来会变形。这种效果源于视觉系统对背景模式的解释，大脑试图将形状与背景的纹理"对齐"，导致感知的扭曲。',
                hint: '点击可以改变背景条纹的方向！',
                render: renderSargent
            }
        ];

        // 当前状态
        let currentIllusionIndex = 0;
        let exploredIllusions = new Set();
        let clickCount = 0;

        // 初始化
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });

        function initializeApp() {
            renderIllusionButtons();
            renderMiniGallery();
            renderCurrentIllusion();
            setupEventListeners();
            updateExploredCount();
            document.getElementById('total-count').textContent = illusions.length;
        }

        // 渲染错觉按钮
        function renderIllusionButtons() {
            const container = document.getElementById('illusion-buttons');
            container.innerHTML = illusions.map((illusion, index) => `
                <button class="illusion-btn text-sm ${index === currentIllusionIndex ? 'active' : ''}" 
                        data-index="${index}">
                    ${illusion.name}
                </button>
            `).join('');
        }

        // 渲染迷你画廊
        function renderMiniGallery() {
            const container = document.getElementById('mini-gallery');
            container.innerHTML = illusions.map((illusion, index) => `
                <div class="glass-card rounded-2xl p-4 cursor-pointer transition-all duration-300 hover:scale-105 hover:border-neon-cyan/50 mini-card"
                     data-index="${index}">
                    <div class="w-full h-24 rounded-xl bg-gradient-to-br from-neon-cyan/10 to-neon-purple/10 flex items-center justify-center mb-3 overflow-hidden">
                        <div class="mini-preview" data-id="${illusion.id}"></div>
                    </div>
                    <h4 class="font-display text-sm font-bold text-center">${illusion.name}</h4>
                    <div class="flex justify-center gap-1 mt-2">
                        ${Array(5).fill(0).map((_, i) => 
                            `<i class="fas fa-star text-xs ${i < illusion.rating ? 'text-neon-yellow' : 'text-gray-600'}"></i>`
                        ).join('')}
                    </div>
                </div>
            `).join('');
            
            // 渲染迷你预览
            document.querySelectorAll('.mini-preview').forEach(preview => {
                renderMiniPreview(preview);
            });
        }

        // 渲染迷你预览
        function renderMiniPreview(element) {
            const id = element.dataset.id;
            const miniStyles = {
                'penrose-triangle': 'width: 60px; height: 60px; border: 3px solid #00f5d4; border-radius: 0; clip-path: polygon(50% 0%, 0% 100%, 100% 100%);',
                'necker-cube': 'width: 50px; height: 50px; border: 2px solid #00f5d4; transform: rotate(45deg);',
                'hermann-grid': 'display: grid; grid-template-columns: repeat(3, 1fr); gap: 3px; width: 50px; height: 50px;',
                'muller-lyer': 'width: 60px; height: 3px; background: #fff; position: relative;',
                'rotating-snakes': 'width: 50px; height: 50px; border-radius: 50%; background: conic-gradient(from 0deg, #000, #8338ec, #fff, #ff006e, #000);',
                'kanizsa-triangle': 'width: 0; height: 0; border-left: 25px solid transparent; border-right: 25px solid transparent; border-bottom: 43px solid rgba(255,255,255,0.3);',
                'ebbinghaus': 'width: 30px; height: 30px; border-radius: 50%; background: #00f5d4; box-shadow: 0 0 0 8px rgba(255,0,110,0.3);',
                'cafe-wall': 'display: grid; grid-template-columns: repeat(4, 1fr); gap: 2px; width: 50px; height: 40px;',
                'penrose-stairs': 'width: 50px; height: 50px; background: linear-gradient(135deg, #00f5d4 25%, transparent 25%); background-size: 10px 10px;',
                'cube-3d': 'width: 40px; height: 40px; border: 2px solid #00f5d4; transform: rotateX(45deg) rotateY(45deg);',
                'delboeuf': 'width: 25px; height: 25px; border-radius: 50%; background: #00f5d4; border: 3px solid #ff006e;',
                'zollner': 'width: 50px; height: 50px; background: repeating-linear-gradient(45deg, transparent, transparent 5px, #00f5d4 5px, #00f5d4 7px);',
                'poggendorff': 'width: 40px; height: 3px; background: #00f5d4; transform: rotate(-20deg);',
                'mobius': 'width: 50px; height: 20px; border: 3px solid #8338ec; border-radius: 50%;',
                'sargent': 'width: 50px; height: 30px; background: repeating-linear-gradient(90deg, #1a1a2e, #1a1a2e 5px, #3a3a4e 5px, #3a3a4e 10px);'
            };
            
            element.style.cssText = miniStyles[id] || 'width: 40px; height: 40px; background: linear-gradient(135deg, #00f5d4, #8338ec); border-radius: 8px;';
        }

        // 渲染当前错觉
        function renderCurrentIllusion() {
            const illusion = illusions[currentIllusionIndex];
            
            // 更新标题和信息
            document.getElementById('illusion-title').textContent = illusion.name;
            document.getElementById('principle-text').textContent = illusion.principle;
            document.getElementById('discoverer-text').textContent = illusion.discoverer;
            document.getElementById('interaction-hint').textContent = illusion.hint;
            
            // 更新标签
            const tagsContainer = document.getElementById('type-tags');
            tagsContainer.innerHTML = illusion.tags.map(tag => `<span class="tag">${tag}</span>`).join('');
            
            // 更新评分
            const ratingContainer = document.querySelector('.info-card .flex.gap-1');
            if (ratingContainer) {
                ratingContainer.innerHTML = Array(5).fill(0).map((_, i) => 
                    `<i class="fas fa-star ${i < illusion.rating ? 'text-neon-yellow' : 'text-gray-600'}"></i>`
                ).join('');
            }
            
            // 渲染图形
            illusion.render();
            
            // 标记为已探索
            exploredIllusions.add(currentIllusionIndex);
            updateExploredCount();
            
            // 更新按钮状态
            document.querySelectorAll('#illusion-buttons .illusion-btn').forEach((btn, index) => {
                btn.classList.toggle('active', index === currentIllusionIndex);
            });
        }

        // 更新已探索计数
        function updateExploredCount() {
            document.getElementById('explored-count').textContent = exploredIllusions.size;
        }

        // 设置事件监听
        function setupEventListeners() {
            // 错觉按钮点击
            document.getElementById('illusion-buttons').addEventListener('click', (e) => {
                const btn = e.target.closest('.illusion-btn');
                if (btn) {
                    currentIllusionIndex = parseInt(btn.dataset.index);
                    renderCurrentIllusion();
                    createParticles(e.clientX, e.clientY);
                }
            });

            // 迷你卡片点击
            document.getElementById('mini-gallery').addEventListener('click', (e) => {
                const card = e.target.closest('.mini-card');
                if (card) {
                    currentIllusionIndex = parseInt(card.dataset.index);
                    renderCurrentIllusion();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    createParticles(e.clientX, e.clientY);
                }
            });

            // 分类按钮点击
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const category = btn.dataset.category;
                    filterByCategory(category);
                    
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    createParticles(e.clientX, e.clientY);
                });
            });

            // 随机按钮
            document.getElementById('random-btn').addEventListener('click', (e) => {
                let newIndex;
                do {
                    newIndex = Math.floor(Math.random() * illusions.length);
                } while (newIndex === currentIllusionIndex && illusions.length > 1);
                
                currentIllusionIndex = newIndex;
                renderCurrentIllusion();
                createParticles(e.clientX, e.clientY);
            });

            // 图形容器点击
            document.getElementById('illusion-container').addEventListener('click', (e) => {
                handleIllusionClick();
                createParticles(e.clientX, e.clientY);
            });
        }

        // 分类过滤
        function filterByCategory(category) {
            const buttons = document.querySelectorAll('#illusion-buttons .illusion-btn');
            const cards = document.querySelectorAll('.mini-card');
            
            buttons.forEach((btn, index) => {
                const illusion = illusions[index];
                const shouldShow = category === 'all' || illusion.category.includes(category);
                btn.style.display = shouldShow ? '' : 'none';
            });
            
            cards.forEach((card, index) => {
                const illusion = illusions[index];
                const shouldShow = category === 'all' || illusion.category.includes(category);
                card.style.display = shouldShow ? '' : 'none';
            });
        }

        // 处理错觉点击
        function handleIllusionClick() {
            clickCount++;
            const container = document.getElementById('illusion-container');
            container.style.transform = 'scale(0.95)';
            setTimeout(() => {
                container.style.transform = 'scale(1)';
            }, 150);
            
            // 触发特定错觉的交互
            const illusion = illusions[currentIllusionIndex];
            if (illusion.interact) {
                illusion.interact();
            }
        }

        // 创建粒子效果
        function createParticles(x, y) {
            for (let i = 0; i < 12; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                const angle = (Math.PI * 2 / 12) * i;
                const velocity = 50 + Math.random() * 50;
                const dx = Math.cos(angle) * velocity;
                const dy = Math.sin(angle) * velocity;
                
                particle.style.transform = `translate(${dx}px, ${dy}px)`;
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
        }

        // ========== 渲染函数 ==========

        function renderPenroseTriangle() {
            const container = document.getElementById('illusion-container');
            container.innerHTML = `
                <div class="penrose-triangle" id="main-illusion">
                    <svg viewBox="0 0 200 200" class="penrose-svg">
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00f5d4"/>
                                <stop offset="100%" style="stop-color:#00b4a0"/>
                            </linearGradient>
                            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#ff006e"/>
                                <stop offset="100%" style="stop-color:#c0005a"/>
                            </linearGradient>
                            <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#8338ec"/>
                                <stop offset="100%" style="stop-color:#6020c0"/>
                            </linearGradient>
                        </defs>
                        <!-- 左边 -->
                        <polygon points="30,170 30,100 100,100 100,130 60,130 60,170" fill="url(#grad1)"/>
                        <!-- 右边 -->
                        <polygon points="170,170 170,100 100,100 100,130 140,130 140,170" fill="url(#grad2)"/>
                        <!-- 上边 -->
                        <polygon points="100,30 100,100 130,100 130,60 170,60 170,30" fill="url(#grad3)"/>
                        <!-- 连接部分 -->
                        <polygon points="60,130 100,130 100,100 60,100" fill="#00d4b8"/>
                        <polygon points="100,130 140,130 140,100 100,100" fill="#e00060"/>
                        <polygon points="100,60 130,60 130,100 100,100" fill="#7028d8"/>
                    </svg>
                </div>
            `;
            
            // 添加动画
            const svg = container.querySelector('svg');
            svg.style.animation = 'float 6s ease-in-out infinite';
            
            // 点击交互
            container.onclick = () => {
                const colors = [
                    ['#00f5d4', '#ff006e', '#8338ec'],
                    ['#ffbe0b', '#00f5d4', '#ff006e'],
                    ['#8338ec', '#ffbe0b', '#00f5d4'],
                    ['#ff006e', '#8338ec', '#ffbe0b']
                ];
                const colorIndex = clickCount % colors.length;
                const [c1, c2, c3] = colors[colorIndex];
                
                container.querySelectorAll('linearGradient stop:first-child').forEach((stop, i) => {
                    stop.style.stopColor = [c1, c2, c3][i];
                });
            };
        }

        function renderNeckerCube() {
            const container = document.getElementById('illusion-container');
            container.innerHTML = `
                <div class="necker-cube" id="main-illusion">
                    <div class="face front"></div>
                    <div class="face back"></div>
                    <div class="connectors">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            
            let flipped = false;
            container.onclick = () => {
                flipped = !flipped;
                const cube = container.querySelector('.necker-cube');
                cube.style.transform = flipped ? 'rotateX(180deg)' : 'rotateX(0deg)';
                cube.style.animation = 'none';
            };
        }

        function renderHermannGrid() {
            const container = document.getElementById('illusion-container');
            const gridSize = 8;
            let cellSize = 40;
            
            function createGrid(size) {
                let html = `<div class="hermann-grid" style="grid-template-columns: repeat(${gridSize}, ${size}px);">`;
                for (let i = 0; i < gridSize * gridSize; i++) {
                    html += `<div class="cell" style="width: ${size}px; height: ${size}px;"></div>`;
                }
                html += '</div>';
                return html;
            }
            
            container.innerHTML = createGrid(cellSize);
            
            container.onclick = () => {
                cellSize = cellSize === 40 ? 30 : cellSize === 30 ? 50 : 40;
                container.innerHTML = createGrid(cellSize);
            };
        }

        function renderMullerLyer() {
            const container = document.getElementById('illusion-container');
            let showGuide = false;
            
            function render() {
                container.innerHTML = `
                    <div class="muller-lyer">
                        <div class="line-group">
                            <div class="arrow outward-left"></div>
                            <div class="line" style="position: relative;">
                                ${showGuide ? '<div style="position: absolute; top: -20px; left: 0; font-size: 12px; color: #00f5d4;">200px</div>' : ''}
                            </div>
                            <div class="arrow outward-right"></div>
                        </div>
                        <div class="line-group">
                            <div class="arrow inward-left"></div>
                            <div class="line" style="position: relative;">
                                ${showGuide ? '<div style="position: absolute; top: -20px; left: 0; font-size: 12px; color: #ff006e;">200px</div>' : ''}
                            </div>
                            <div class="arrow inward-right"></div>
                        </div>
                        ${showGuide ? '<div style="text-align: center; color: #888; font-size: 14px; margin-top: 20px;">两条线段长度完全相同！</div>' : ''}
                    </div>
                `;
            }
            
            render();
            container.onclick = () => {
                showGuide = !showGuide;
                render();
            };
        }

        function renderRotatingSnakes() {
            const container = document.getElementById('illusion-container');
            const colorSchemes = [
                ['#000', '#8338ec', '#fff', '#ff006e'],
                ['#000', '#00f5d4', '#fff', '#ffbe0b'],
                ['#000', '#ff006e', '#fff', '#00f5d4'],
                ['#000', '#ffbe0b', '#fff', '#8338ec']
            ];
            
            function render(schemeIndex) {
                const [c1, c2, c3, c4] = colorSchemes[schemeIndex];
                container.innerHTML = `
                    <div class="rotating-snakes" id="main-illusion">
                        <div class="snake-ring" style="background: conic-gradient(from 0deg, ${c1} 0deg 30deg, ${c2} 30deg 60deg, ${c3} 60deg 90deg, ${c4} 90deg 120deg, ${c1} 120deg 150deg, ${c2} 150deg 180deg, ${c3} 180deg 210deg, ${c4} 210deg 240deg, ${c1} 240deg 270deg, ${c2} 270deg 300deg, ${c3} 300deg 330deg, ${c4} 330deg 360deg);"></div>
                        <div class="snake-ring" style="background: conic-gradient(from 45deg, ${c3} 0deg 30deg, ${c2} 30deg 60deg, ${c1} 60deg 90deg, ${c4} 90deg 120deg, ${c3} 120deg 150deg, ${c2} 150deg 180deg, ${c1} 180deg 210deg, ${c4} 210deg 240deg, ${c3} 240deg 270deg, ${c2} 270deg 300deg, ${c1} 300deg 330deg, ${c4} 330deg 360deg);"></div>
                        <div class="snake-ring" style="background: conic-gradient(from 90deg, ${c1} 0deg 30deg, ${c4} 30deg 60deg, ${c3} 60deg 90deg, ${c2} 90deg 120deg, ${c1} 120deg 150deg, ${c4} 150deg 180deg, ${c3} 180deg 210deg, ${c2} 210deg 240deg, ${c1} 240deg 270deg, ${c4} 270deg 300deg, ${c3} 300deg 330deg, ${c2} 330deg 360deg);"></div>
                        <div class="snake-ring"></div>
                    </div>
                `;
            }
            
            render(0);
            container.onclick = () => {
                render(clickCount % colorSchemes.length);
            };
        }

        function renderKanizsaTriangle() {
            const container = document.getElementById('illusion-container');
            let showOutline = false;
            
            function render() {
                container.innerHTML = `
                    <div class="kanizsa-triangle" id="main-illusion">
                        <div class="pacman"></div>
                        <div class="pacman"></div>
                        <div class="pacman"></div>
                        ${showOutline ? '<div class="center-triangle" style="border-bottom-color: rgba(0, 245, 212, 0.3); box-shadow: 0 0 20px rgba(0, 245, 212, 0.3);"></div>' : '<div class="center-triangle"></div>'}
                        ${showOutline ? '<svg viewBox="0 0 280 280" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><polygon points="140,40 40,220 240,220" fill="none" stroke="#00f5d4" stroke-width="2" stroke-dasharray="5,5"/></svg>' : ''}
                    </div>
                `;
            }
            
            render();
            container.onclick = () => {
                showOutline = !showOutline;
                render();
            };
        }

        function renderEbbinghaus() {
            const container = document.getElementById('illusion-container');
            let showAlone = false;
            
            function render() {
                if (showAlone) {
                    container.innerHTML = `
                        <div style="display: flex; justify-content: space-around; align-items: center; width: 300px;">
                            <div style="width: 50px; height: 50px; border-radius: 50%; background: #00f5d4;"></div>
                            <div style="width: 50px; height: 50px; border-radius: 50%; background: #00f5d4;"></div>
                        </div>
                        <div style="text-align: center; color: #888; font-size: 14px; margin-top: 20px;">两个圆大小完全相同！</div>
                    `;
                } else {
                    container.innerHTML = `
                        <div class="ebbinghaus" id="main-illusion">
                            <div class="group left">
                                <div class="center-circle"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                            </div>
                            <div class="group right">
                                <div class="center-circle"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                                <div class="surround"></div>
                            </div>
                        </div>
                    `;
                }
            }
            
            render();
            container.onclick = () => {
                showAlone = !showAlone;
                render();
            };
        }

        function renderCafeWall() {
            const container = document.getElementById('illusion-container');
            const rows = 8;
            const cols = 6;
            let highlightedRow = -1;
            
            function render() {
                let html = '<div class="cafe-wall">';
                for (let r = 0; r < rows; r++) {
                    html += `<div class="row" style="${highlightedRow === r ? 'background: rgba(0, 245, 212, 0.2);' : ''}">`;
                    for (let c = 0; c < cols; c++) {
                        const isBlack = (r + c) % 2 === 0;
                        html += `<div class="tile ${isBlack ? 'black' : 'white'}"></div>`;
                    }
                    html += '</div>';
                }
                html += '</div>';
                if (highlightedRow >= 0) {
                    html += '<div style="text-align: center; color: #888; font-size: 14px; margin-top: 10px;">注意：所有行都是平行的！</div>';
                }
                container.innerHTML = html;
            }
            
            render();
            container.onclick = () => {
                highlightedRow = (highlightedRow + 1) % (rows + 1);
                if (highlightedRow === rows) highlightedRow = -1;
                render();
            };
        }

        function renderPenroseStairs() {
            const container = document.getElementById('illusion-container');
            let rotation = 0;
            
            function render() {
                container.innerHTML = `
                    <div class="penrose-stairs" id="main-illusion" style="transform: rotate(${rotation}deg);">
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                    </div>
                `;
            }
            
            render();
            container.onclick = () => {
                rotation = (rotation + 45) % 360;
                render();
            };
        }

        function renderCube3D() {
            const container = document.getElementById('illusion-container');
            const speeds = [8, 4, 2, 16];
            let speedIndex = 0;
            
            function render() {
                container.innerHTML = `
                    <div class="cube-3d" id="main-illusion" style="animation-duration: ${speeds[speedIndex]}s;">
                        <div class="face front">前</div>
                        <div class="face back">后</div>
                        <div class="face right">右</div>
                        <div class="face left">左</div>
                        <div class="face top">上</div>
                        <div class="face bottom">下</div>
                    </div>
                `;
            }
            
            render();
            container.onclick = () => {
                speedIndex = (speedIndex + 1) % speeds.length;
                render();
            };
        }

        function renderDelboeuf() {
            const container = document.getElementById('illusion-container');
            let showAlone = false;
            
            function render() {
                if (showAlone) {
                    container.innerHTML = `
                        <div style="display: flex; justify-content: space-around; align-items: center; width: 300px;">
                            <div style="width: 50px; height: 50px; border-radius: 50%; background: #00f5d4;"></div>
                            <div style="width: 50px; height: 50px; border-radius: 50%; background: #00f5d4;"></div>
                        </div>
                        <div style="text-align: center; color: #888; font-size: 14px; margin-top: 20px;">两个圆大小完全相同！</div>
                    `;
                } else {
                    container.innerHTML = `
                        <div class="delboeuf" id="main-illusion">
                            <div class="ring small">
                                <div class="dot"></div>
                            </div>
                            <div class="ring large">
                                <div class="dot"></div>
                            </div>
                        </div>
                    `;
                }
            }
            
            render();
            container.onclick = () => {
                showAlone = !showAlone;
                render();
            };
        }

        function renderZollner() {
            const container = document.getElementById('illusion-container');
            let showTicks = true;
            
            function render() {
                let html = '<div class="zollner" id="main-illusion">';
                for (let i = 0; i < 5; i++) {
                    const angle = i % 2 === 0 ? -15 : 15;
                    html += `<div class="line-group" style="transform: rotate(${angle}deg);">`;
                    html += '<div class="main-line">';
                    if (showTicks) {
                        for (let j = 0; j < 8; j++) {
                            const tickAngle = i % 2 === 0 ? 30 : -30;
                            html += `<div class="tick" style="top: ${j * 25}px; transform: rotate(${tickAngle}deg);"></div>`;
                        }
                    }
                    html += '</div></div>';
                }
                html += '</div>';
                if (!showTicks) {
                    html += '<div style="text-align: center; color: #888; font-size: 14px; margin-top: 10px;">所有竖线都是平行的！</div>';
                }
                container.innerHTML = html;
            }
            
            render();
            container.onclick = () => {
                showTicks = !showTicks;
                render();
            };
        }

        function renderPoggendorff() {
            const container = document.getElementById('illusion-container');
            let showBlock = true;
            
            function render() {
                container.innerHTML = `
                    <div class="poggendorff" id="main-illusion">
                        <div class="oblique left"></div>
                        <div class="oblique right"></div>
                        ${showBlock ? '<div class="block"></div>' : ''}
                        ${!showBlock ? '<div class="continuation c1"></div><div class="continuation c2"></div>' : ''}
                    </div>
                    ${!showBlock ? '<div style="text-align: center; color: #888; font-size: 14px; margin-top: 10px;">注意两段线的真实连接位置！</div>' : ''}
                `;
            }
            
            render();
            container.onclick = () => {
                showBlock = !showBlock;
                render();
            };
        }

        function renderMobius() {
            const container = document.getElementById('illusion-container');
            const colorSets = [
                ['#00f5d4', '#8338ec', '#ff006e'],
                ['#ffbe0b', '#00f5d4', '#8338ec'],
                ['#ff006e', '#ffbe0b', '#00f5d4']
            ];
            
            function render(setIndex) {
                const [c1, c2, c3] = colorSets[setIndex];
                let html = `<div class="mobius-strip" id="main-illusion">`;
                
                // 创建莫比乌斯环的段
                for (let i = 0; i < 24; i++) {
                    const angle = (i / 24) * Math.PI * 2;
                    const x = 100 + Math.cos(angle) * 80;
                    const y = 100 + Math.sin(angle) * 40;
                    const rotateY = angle * (180 / Math.PI);
                    const twist = i * 15; // 扭转
                    
                    html += `<div class="segment" style="
                        left: ${x}px;
                        top: ${y}px;
                        transform: rotateY(${rotateY}deg) rotateX(${twist}deg);
                        background: linear-gradient(to bottom, ${c1}, ${c2}, ${c3});
                        opacity: ${0.5 + Math.sin(angle) * 0.5};
                    "></div>`;
                }
                
                html += '</div>';
                container.innerHTML = html;
            }
            
            render(0);
            container.onclick = () => {
                render(clickCount % colorSets.length);
            };
        }

        function renderSargent() {
            const container = document.getElementById('illusion-container');
            const patterns = [0, 45, 90, -45];
            let patternIndex = 0;
            
            function render() {
                const angle = patterns[patternIndex];
                container.innerHTML = `
                    <div class="sargent-illusion" id="main-illusion">
                        <div style="
                            width: 100%;
                            height: 100%;
                            background: repeating-linear-gradient(${angle}deg, 
                                #1a1a2e 0px, 
                                #1a1a2e 10px, 
                                #3a3a4e 10px, 
                                #3a3a4e 20px);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        ">
                            <div style="
                                width: 150px;
                                height: 80px;
                                background: linear-gradient(90deg, #00f5d4, #8338ec);
                                border-radius: 8px;
                                box-shadow: 0 0 30px rgba(0, 245, 212, 0.3);
                            "></div>
                        </div>
                    </div>
                `;
            }
            
            render();
            container.onclick = () => {
                patternIndex = (patternIndex + 1) % patterns.length;
                render();
            };
        }
    </script>
</body>
</html>
